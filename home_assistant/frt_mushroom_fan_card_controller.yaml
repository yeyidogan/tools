type: custom:mushroom-fan-card
entity: fan.esp32s_fan_controller_meeting_room_fan
name: fanalar
grid_options:
  columns: 12
  rows: 2
fill_container: false
show_percentage_control: true
show_oscillate_control: true
show_direction_control: true
collapsible_controls: true
card_mod:
  style:
    mushroom-shape-icon$: |
      .shape {
        --icon-color: #d1eced !important;
        --icon-symbol-size: 50px;
        {% if is_state('fan.esp32s_fan_controller_meeting_room_fan', 'on') %}
        --shape-animation: wobbling
        {{ sqrt((1.05-(state_attr('fan.esp32s_fan_controller_meeting_room_fan', 'percentage')/100)))*5 }}s
        linear infinite;
        {% endif %}
      }
      @keyframes wobbling {
        0% {transform: rotate(360deg);}
      }
    mushroom-fan-percentage-control$: |
      mushroom-slider {
          --main-color: #d1eced !important;
          --bg-color: #505050 !important;
      }
    mushroom-fan-oscillate-control$:
      mushroom-button$: |
        .button {
          --icon-color: #d1eced !important;
          --bg-color: transparent !important;
          {% if is_state_attr('fan.esp32s_fan_controller_meeting_room_fan', 'oscillating', true) %}
          animation: wobbling2 2.5s linear infinite alternate;
          {% endif %}
        }
        @keyframes wobbling2 {
          0% {transform: rotate(-80deg);}
          100% {transform: rotate(40deg);}
        }
    mushroom-fan-direction-control$:
      mushroom-button$: |
        .button {
            --icon-color: yellow !important;
            --bg-color: transparent !important;
        }
